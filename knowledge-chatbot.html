<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knowledge Chatbot - Interactive Proof | dotsat7</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .hero-gradient {
            background: radial-gradient(circle at center, #1e1b4b 0%, #0f172a 100%);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        .message-anim {
            animation: fadeIn 0.3s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }

        .typing-dot:nth-child(1) {
            animation-delay: -0.32s;
        }

        .typing-dot:nth-child(2) {
            animation-delay: -0.16s;
        }

        @keyframes typing {

            0%,
            80%,
            100% {
                transform: scale(0);
            }

            40% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body class="bg-slate-900 text-slate-50 font-sans hero-gradient min-h-screen flex flex-col">

    <!-- Navigation -->
    <nav class="bg-slate-900/80 backdrop-blur-md shadow-lg border-b border-slate-700 fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <a href="index.html" class="flex items-center">
                            <img src="images/dotsat_logo.png" alt="dotsat7 Logo" class="h-16 w-auto mr-3 rounded-full">
                        </a>
                    </div>
                    <div class="hidden md:ml-6 md:flex md:items-center md:space-x-8">
                        <a href="index.html#services"
                            class="text-slate-300 hover:text-purple-400 px-3 py-2 text-sm font-medium transition-colors">Services</a>
                        <a href="protovision.html"
                            class="text-slate-300 hover:text-purple-400 px-3 py-2 text-sm font-medium transition-colors">ProtoVision</a>
                        <a href="pricing.html"
                            class="text-slate-300 hover:text-purple-400 px-3 py-2 text-sm font-medium transition-colors">Pricing</a>
                        <a href="index.html#about"
                            class="text-slate-300 hover:text-purple-400 px-3 py-2 text-sm font-medium transition-colors">About</a>
                        <a href="index.html#contact"
                            class="text-slate-300 hover:text-purple-400 px-3 py-2 text-sm font-medium transition-colors">Contact</a>
                    </div>
                    <div class="-mr-2 flex items-center md:hidden">
                        <button type="button" id="mobile-menu-button"
                            class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none">
                            <i data-feather="menu"></i>
                        </button>
                    </div>
                </div>
            </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden fixed inset-0 z-20 bg-slate-900/95 backdrop-blur-xl pt-16">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
            <a href="index.html#services"
                class="block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:text-purple-400 hover:bg-slate-800 transition-colors">Services</a>
            <a href="protovision.html"
                class="block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:text-purple-400 hover:bg-slate-800 transition-colors">ProtoVision</a>
            <a href="pricing.html"
                class="block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:text-purple-400 hover:bg-slate-800 transition-colors">Pricing</a>
            <a href="index.html#about"
                class="block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:text-purple-400 hover:bg-slate-800 transition-colors">About</a>
            <a href="index.html#contact"
                class="block px-3 py-2 rounded-md text-base font-medium text-slate-300 hover:text-purple-400 hover:bg-slate-800 transition-colors">Contact</a>
        </div>
    </div>

    <!-- Main Content -->
    <main class="flex-grow p-4 md:p-8 flex flex-col items-center pt-24 md:pt-32">
        <div class="max-w-4xl w-full grid md:grid-cols-3 gap-8 h-[600px]">

            <!-- Sidebar / Info -->
            <div class="md:col-span-1 space-y-6">
                <h1
                    class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-pink-400 to-purple-400">
                    Knowledge Chatbot
                </h1>
                <p class="text-slate-300 text-sm leading-relaxed">
                    Ask questions about internal documents, policies, or technical specs. This demo simulates a RAG
                    system retrieving info from a company knowledge base.
                </p>

                <div class="bg-slate-800/50 p-4 rounded-xl border border-slate-700">
                    <p class="text-xs text-slate-500 uppercase font-bold mb-3">Try asking:</p>
                    <div class="space-y-2">
                        <button onclick="askQuestion('What is the remote work policy?')"
                            class="w-full text-left text-xs text-pink-300 hover:text-white bg-pink-900/20 hover:bg-pink-900/40 p-2 rounded transition-colors border border-pink-500/20">
                            "What is the remote work policy?"
                        </button>
                        <button onclick="askQuestion('How do I reset my VPN password?')"
                            class="w-full text-left text-xs text-pink-300 hover:text-white bg-pink-900/20 hover:bg-pink-900/40 p-2 rounded transition-colors border border-pink-500/20">
                            "How do I reset my VPN password?"
                        </button>
                        <button onclick="askQuestion('Who is the contact for HR?')"
                            class="w-full text-left text-xs text-pink-300 hover:text-white bg-pink-900/20 hover:bg-pink-900/40 p-2 rounded transition-colors border border-pink-500/20">
                            "Who is the contact for HR?"
                        </button>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="md:col-span-2 glass-panel rounded-2xl flex flex-col overflow-hidden shadow-2xl">
                <!-- Header -->
                <div class="p-4 border-b border-slate-700 bg-slate-800/50 flex items-center">
                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2 shadow-[0_0_8px_rgba(34,197,94,0.6)]"></div>
                    <span class="font-semibold text-slate-200">Internal Knowledge Base AI</span>
                </div>

                <!-- Messages Area -->
                <div id="chatMessages" class="flex-grow p-4 overflow-y-auto space-y-4">
                    <!-- Intro Message -->
                    <div class="flex items-start">
                        <div
                            class="w-8 h-8 rounded-full bg-pink-600 flex items-center justify-center flex-shrink-0 mr-3">
                            <i data-feather="cpu" class="w-4 h-4 text-white"></i>
                        </div>
                        <div
                            class="bg-slate-800 p-3 rounded-lg rounded-tl-none border border-slate-700 text-sm text-slate-200 max-w-[80%]">
                            Hello! I have access to the company's internal documentation. How can I help you today?
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="p-4 bg-slate-800/30 border-t border-slate-700">
                    <form id="chatForm" class="flex gap-2" onsubmit="handleSubmit(event)">
                        <input type="text" id="userInput"
                            class="flex-grow bg-slate-900/50 border border-slate-700 rounded-lg px-4 py-2 text-slate-200 focus:ring-2 focus:ring-pink-500 focus:border-transparent outline-none placeholder-slate-500"
                            placeholder="Type your question..." autocomplete="off">
                        <button type="submit"
                            class="bg-pink-600 hover:bg-pink-700 text-white p-2 rounded-lg transition-colors">
                            <i data-feather="send" class="w-5 h-5"></i>
                        </button>
                    </form>
                </div>
            </div>

        </div>
    </main>

    <script>
        feather.replace();

        const chatMessages = document.getElementById('chatMessages');
        const userInput = document.getElementById('userInput');

        const knowledgeBase = {
            "remote work": "According to the **Hybrid Work Policy (2025)**, employees are allowed to work remotely up to 3 days a week. Core office days are Tuesday and Thursday. Full remote requests require approval from a Director.",
            "vpn": "To reset your VPN password:\n1. Go to `auth.company.internal`\n2. Click on 'Forgot Password'\n3. Verify your identity via 2FA\n4. Set a new password adhering to the complexity requirements.",
            "hr": "The primary HR contact for general inquiries is **Sarah Jenkins** (s.jenkins@company.com). For payroll issues, please contact the **Finance Department** directly via the #finance-help slack channel.",
            "holiday": "All employees receive 20 days of paid annual leave, plus 8 public holidays. Unused days can be carried over (max 5 days) to the first quarter of the following year.",
            "default": "I searched the internal knowledge base but couldn't find a specific document matching your query. Could you try rephrasing or asking about a specific policy?"
        };

        function askQuestion(text) {
            userInput.value = text;
            handleSubmit(new Event('submit'));
        }

        function handleSubmit(e) {
            e.preventDefault();
            const text = userInput.value.trim();
            if (!text) return;

            // Add User Message
            addMessage(text, 'user');
            userInput.value = '';

            // Loading Indicator
            const loadingId = addLoading();

            // Mock Delay & Response
            setTimeout(() => {
                removeLoading(loadingId);

                let response = knowledgeBase.default;
                const lowerText = text.toLowerCase();

                if (lowerText.includes('remote') || lowerText.includes('home')) response = knowledgeBase["remote work"];
                else if (lowerText.includes('vpn') || lowerText.includes('password') || lowerText.includes('poassword')) response = knowledgeBase["vpn"];
                else if (lowerText.includes('hr') || lowerText.includes('human resources')) response = knowledgeBase["hr"];
                else if (lowerText.includes('vacation') || lowerText.includes('holiday') || lowerText.includes('leave')) response = knowledgeBase["holiday"];

                addMessage(response, 'bot');
            }, 1500);
        }

        function addMessage(text, sender) {
            const div = document.createElement('div');
            div.className = `flex items-start message-anim ${sender === 'user' ? 'justify-end' : ''}`;

            const content = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');

            if (sender === 'bot') {
                div.innerHTML = `
                    <div class="w-8 h-8 rounded-full bg-pink-600 flex items-center justify-center flex-shrink-0 mr-3">
                        <i data-feather="cpu" class="w-4 h-4 text-white"></i>
                    </div>
                    <div class="bg-slate-800 p-3 rounded-lg rounded-tl-none border border-slate-700 text-sm text-slate-200 max-w-[80%] shadow-md">
                        ${content}
                    </div>
                `;
            } else {
                div.innerHTML = `
                    <div class="bg-pink-900/30 p-3 rounded-lg rounded-tr-none border border-pink-500/30 text-sm text-white max-w-[80%] shadow-md">
                        ${content}
                    </div>
                `;
            }

            chatMessages.appendChild(div);
            feather.replace();
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addLoading() {
            const id = 'loading-' + Date.now();
            const div = document.createElement('div');
            div.id = id;
            div.className = "flex items-start message-anim";
            div.innerHTML = `
                 <div class="w-8 h-8 rounded-full bg-pink-600 flex items-center justify-center flex-shrink-0 mr-3">
                    <i data-feather="cpu" class="w-4 h-4 text-white"></i>
                </div>
                <div class="bg-slate-800 p-4 rounded-lg rounded-tl-none border border-slate-700 flex space-x-1">
                    <div class="w-2 h-2 bg-slate-400 rounded-full typing-dot"></div>
                    <div class="w-2 h-2 bg-slate-400 rounded-full typing-dot"></div>
                    <div class="w-2 h-2 bg-slate-400 rounded-full typing-dot"></div>
                </div>
            `;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            feather.replace();
            return id;
        }

        function removeLoading(id) {
            const el = document.getElementById(id);
            if (el) el.remove();
        }

        // Mobile menu toggle
        document.getElementById('mobile-menu-button').addEventListener('click', function () {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
            feather.replace();
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', function () {
                document.getElementById('mobile-menu').classList.add('hidden');
            });
        });
    </script>
</body>

</html>